<div>
   <layout-row style="flex-basis:0;width:100%">
      <layout-column id="ColumnLayout1">
         <h1 style="margin-top:1rem;margin-bottom:1rem">LiveConnect Client</h1>
         <div class="header_img"></div>
      </layout-column>
   </layout-row>
   <stacked-view id="StackedView1" value="0">
      <stacked-pane id="StackedPane2" value="0">
         <layout-row>
            <davinci-text-field id="softApprovalTokenTextField" type="text" label="Pairing code">
               <crown-set property="disabled" protocol="crownMSGPACK" crown-function="CSK_LiveConnect/UI/isNotSystemClockConfigured"></crown-set>
               <crown-set event="change" crown-function="CSK_LiveConnect/UI/setSoftApprovalToken" crown-path="token"></crown-set>
            </davinci-text-field>
            <davinci-button id="validateTokenButton" type="primary" icon="navigation/check" onclick="document.getElementById('validateTokenButton').disabled = true;">
               <crown-get property="disabled" protocol="crownMSGPACK" crown-function="CSK_LiveConnect/UI/isNotSystemClockConfigured"></crown-get>
               <crown-set event="submit" crown-function="CSK_LiveConnect/UI/validateToken" protocol="crownMSGPACK"></crown-set>
               <span>Validate</span>
            </davinci-button>
         </layout-row>
         <layout-row id="RowLayout1" style="justify-content:space-between">
            <davinci-value-display id="ValueDisplay4" value="ValidateTokenResult">
               <crown-get property="value" protocol="crownMSGPACK" crown-function="CSK_LiveConnect/UI/getValidateTokenResult" auto-update-ms="1000" converter="updateValidateTokenButton"></crown-get>
            </davinci-value-display>
         </layout-row>
         <p style="max-width:640px; font-size: 1rem; line-height: 1.5;">The pairing code can be requested from the appropriate device in the LiveConnect module within AssetHub. Please make sure that the part and serial number match.</p>
         <layout-column>
            <davinci-value-display id="ValueDisplay5" label="Connection status" style="margin-bottom:1rem">
               <crown-get property="value" protocol="crownMSGPACK" crown-function="CSK_LiveConnect/UI/getConnetionStatus" auto-update-ms="1000"></crown-get>
            </davinci-value-display>
            <davinci-value-display id="ValueDisplay6" label="System clock status" style="margin-bottom:1rem">
               <crown-get property="value" protocol="crownMSGPACK" crown-function="CSK_LiveConnect/UI/getSystemClockStatus" auto-update-ms="1000"></crown-get>
            </davinci-value-display>
				<davinci-value-display id="ValueDisplay9" label="Part number"
					style="margin-bottom: 1rem">
                    <crown-binding property="value" name="CSK_LiveConnect/pageCalled"
						path="result/data/empty" auto-update="0" update-on-resume>
					</crown-binding>
					<crown-on property="value"
						crown-event="CSK_LiveConnect/OnNewGatewayPartNumber">
					</crown-on>
				</davinci-value-display>
            <davinci-value-display id="ValueDisplay8" label="Serial number" style="margin-bottom: 1rem">
                       <crown-on property="value" 
                crown-event="CSK_LiveConnect/OnNewGatewaySerialNumber">
            </crown-on>
            </davinci-value-display>
         </layout-column>
      </stacked-pane>
      <stacked-pane id="StackedPane3" value="1">
         <layout-row style="justify-content:space-between">
            <layout-column id="ColumnLayout13">
               <davinci-value-display id="ValueDisplay1" label="Connection status" style="margin-bottom:1rem">
                  <crown-get property="value" protocol="crownMSGPACK" crown-function="CSK_LiveConnect/UI/getConnetionStatus" auto-update-ms="1000"></crown-get>
               </davinci-value-display>
               <davinci-value-display id="ValueDisplay7" label="System clock status" style="margin-bottom:1rem">
                  <crown-get property="value" protocol="crownMSGPACK" crown-function="CSK_LiveConnect/UI/getSystemClockStatus" auto-update-ms="1000"></crown-get>
               </davinci-value-display>
				<davinci-value-display id="ValueDisplay3" label="Part number"
					style="margin-bottom: 1rem">
                    <crown-binding property="value" name="CSK_LiveConnect/pageCalled"
						path="result/data/empty" auto-update="0" update-on-resume>
					</crown-binding>
					<crown-on property="value"
						crown-event="CSK_LiveConnect/OnNewGatewayPartNumber">
					</crown-on>
				</davinci-value-display>
            <davinci-value-display id="ValueDisplay2" label="Serial number" style="margin-bottom: 1rem">
                       <crown-on property="value" 
                crown-event="CSK_LiveConnect/OnNewGatewaySerialNumber">
            </crown-on>
            </davinci-value-display>

               <p style="max-width:640px; font-size: 1rem; line-height: 1.5;">View device within LiveConnect module and configure data transfers or pair further devices.</p>
               <davinci-button id="openAssetButton" icon="file/cloud" onclick=" window.open(document.getElementById('openAssetButton').getAttribute('value'), '_blank'); return false;" type="primary" >
                  <span>Open device in LiveConnect module</span>
                  <crown-get property="value" protocol="crownMSGPACK" crown-function="CSK_LiveConnect/UI/getDeviceUrl" auto-update-ms="1000"></crown-get>
               </davinci-button>
               <davinci-button id="Button1" type="primary" icon="navigation/close">
                  <span>Remove pairing with LiveConnect</span>
                  <crown-set event="submit" crown-function="CSK_LiveConnect/UI/removePairing" protocol="crownMSGPACK"></crown-set>
               </davinci-button>
            </layout-column>
         </layout-row>
      </stacked-pane>
      <crown-get property="value" protocol="crownMSGPACK" crown-function="CSK_LiveConnect/UI/currentView" auto-update-ms="1000"></crown-get>
   </stacked-view>
</div>