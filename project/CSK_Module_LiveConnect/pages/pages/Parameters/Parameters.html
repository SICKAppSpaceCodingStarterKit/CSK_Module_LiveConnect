<layout-row id="RowLayoutMain" style="align-items: stretch">
	<layout-column id="ColumnLayout1" style="align-items: stretch">
		<h1 style="margin-top:1rem;margin-bottom:1rem">LiveConnect Client Parameters</h1>
        <p>Parameters specific to LiveConnect can be changed on this page in order to adapt the behavior of the client to your application.
            <br>
            <br>In order to be able to change parameters, you must first login as "AuthorizedClient".</p>

        <layout-row id="RowLayout1">
			<layout-column id="ColumnLayout2" class="myCustomFrame_Parameters"
				style="align-items: stretch">
				<davinci-value-display id="ValueDisplay1" value=""
					label="MQTT settings:">
				</davinci-value-display>
				<layout-row id="RowLayout5"
					style="justify-content: space-between; align-items: center">
					<layout-column id="ColumnLayout6">
						<davinci-value-display id="VD_test1" value="Keep alive interval [ms]:"
							title="Keep alive interval of the MQTT client used for the LiveConnect connection.">
						</davinci-value-display>
					</layout-column>
					<layout-column id="ColumnLayout3">
						<davinci-number-input id="NumberInput1" step="1" min="1" converter="">
							<crown-on property="value"
								crown-event="CSK_LiveConnect/OnNewMqttKeepAliveInterval">
							</crown-on>
							<crown-set event="input"
								crown-function="CSK_LiveConnect/setMqttKeepAliveInterval"
								protocol="crownMSGPACK" crown-path="keepAliveInterval">
							</crown-set>
                            <local-binding property="disabled" name="currentuser" update-on-resume
				                converter="getDisabled">
			                </local-binding>
						</davinci-number-input>
					</layout-column>
				</layout-row>
				<layout-row id="RowLayout2"
					style="justify-content: space-between; align-items: center">
					<layout-column id="ColumnLayout4">
						<davinci-value-display id="VD_test2" value="Connect timeout [ms]:"
							title="MQTT client connect timeout.">
						</davinci-value-display>
					</layout-column>
					<layout-column id="ColumnLayout5">
						<davinci-number-input id="NumberInput2" step="1" min="1">
							<crown-on property="value"
								crown-event="CSK_LiveConnect/OnNewMqttConnectTimeout">
							</crown-on>
							<crown-set event="input"
								crown-function="CSK_LiveConnect/setMqttConnectTimeout"
								protocol="crownMSGPACK" crown-path="connectTimeout">
							</crown-set>
                            <local-binding property="disabled" name="currentuser" update-on-resume
				                converter="getDisabled">
			                </local-binding>
						</davinci-number-input>
					</layout-column>
				</layout-row>
				<layout-row id="RowLayout6"
					style="align-items: center; justify-content: space-between">
					<layout-column id="ColumnLayout7">
						<davinci-value-display id="ValueDisplay2"
							value="Message forwarding interval [ms]:"
							title="Interval for forwarding data to the LiveConnect server.">
						</davinci-value-display>
					</layout-column>
					<layout-column id="ColumnLayout9">
						<davinci-number-input id="NumberInput3" step="1" min="1">
							<crown-on property="value"
								crown-event="CSK_LiveConnect/OnNewMqttMessageInterval">
							</crown-on>
							<crown-set event="input"
								crown-function="CSK_LiveConnect/setMqttMessageInterval"
								protocol="crownMSGPACK" crown-path="messageInterval">
							</crown-set>
                            <local-binding property="disabled" name="currentuser" update-on-resume
				                converter="getDisabled">
			                </local-binding>
						</davinci-number-input>
					</layout-column>
				</layout-row>
				<layout-row id="RowLayout7"
					style="align-items: center; justify-content: space-between">
					<layout-column id="ColumnLayout11">
						<davinci-value-display id="ValueDisplay3" value="Message queue size:"
							title="If the LiveConnect connection is broken, the data is stored in the queue. When the queue is full, the oldest data is discarded automatically.">
						</davinci-value-display>
					</layout-column>
					<layout-column id="ColumnLayout15">
						<davinci-number-input id="NumberInput4" step="1" min="1">
							<crown-on property="value"
								crown-event="CSK_LiveConnect/OnNewMqttQueueSize">
							</crown-on>
							<crown-set event="input"
								crown-function="CSK_LiveConnect/setMqttMessageQueueSize"
								protocol="crownMSGPACK" crown-path="queueSize">
							</crown-set>
                            <local-binding property="disabled" name="currentuser" update-on-resume
				                converter="getDisabled">
			                </local-binding>
						</davinci-number-input>
					</layout-column>
				</layout-row>
			</layout-column>
			<layout-column id="ColumnLayout8"
				style="width: 1; height: 1; flex-grow: 3">
			</layout-column>
		</layout-row>
		<layout-row id="RowLayout8">
			<layout-column id="ColumnLayout18" class="myCustomFrame_Parameters"
				style="align-items: stretch">
				<davinci-value-display id="ValueDisplay5"
					label="LiveConnect settings:">
				</davinci-value-display>
				<layout-row id="RowLayout16"
					style="justify-content: space-between; align-items: center">
					<layout-column id="ColumnLayout28">
						<davinci-value-display id="ValueDisplay10" value="Cloud system:"
							title="The stages int and dev are platforms that can only be used internally by SICK.">
						</davinci-value-display>
					</layout-column>
					<layout-column id="ColumnLayout29">
						<davinci-drop-down id="DropDown2">
							<davinci-option id="Option4" value="prod">
								<span>prod</span>
							</davinci-option>
							<davinci-option id="Option5" value="int">
								<span>int</span>
							</davinci-option>
							<davinci-option id="Option6" value="dev">
								<span>dev</span>
							</davinci-option>
							<crown-set event="change"
								crown-function="CSK_LiveConnect/setCloudSystem"
								protocol="crownMSGPACK" crown-path="cloudSystem">
							</crown-set>
							<crown-on property="value"
								crown-event="CSK_LiveConnect/OnNewCloudSystem">
							</crown-on>
                            <local-binding property="disabled" name="currentuser" update-on-resume
				                converter="getDisabled">
			                </local-binding>
						</davinci-drop-down>
					</layout-column>
				</layout-row>
				<layout-row id="RowLayout9"
					style="align-items: center; justify-content: space-between">
					<layout-column id="ColumnLayout16">
						<davinci-value-display id="ValueDisplay4" value="Process interval:"
							title="Process interval to notice status changes of the LiveConnect connection.">
						</davinci-value-display>
					</layout-column>
					<layout-column id="ColumnLayout17">
						<davinci-number-input id="NumberInput5" step="1">
							<crown-on property="value"
								crown-event="CSK_LiveConnect/OnNewProcessInterval">
							</crown-on>
							<crown-set event="input"
								crown-function="CSK_LiveConnect/setProcessInterval"
								protocol="crownMSGPACK" crown-path="interval">
							</crown-set>
                            <local-binding property="disabled" name="currentuser" update-on-resume
				                converter="getDisabled">
			                </local-binding>
						</davinci-number-input>
					</layout-column>
				</layout-row>
				<layout-row id="RowLayout11"
					style="align-items: center; justify-content: space-between">
					<layout-column id="ColumnLayout20">
						<davinci-value-display id="ValueDisplay6" value="Token timeout:"
							title="Timeout for the accepting of the pairing token">
						</davinci-value-display>
					</layout-column>
					<layout-column id="ColumnLayout21">
						<davinci-number-input id="NumberInput6" step="1">
							<crown-on property="value"
								crown-event="CSK_LiveConnect/OnNewTokenTimeout">
							</crown-on>
							<crown-set event="input"
								crown-function="CSK_LiveConnect/setTokenTimeout"
								protocol="crownMSGPACK" crown-path="timeout">
							</crown-set>
                            <local-binding property="disabled" name="currentuser" update-on-resume
				                converter="getDisabled">
			                </local-binding>
						</davinci-number-input>
					</layout-column>
				</layout-row>
				<layout-row id="RowLayout15"
					style="justify-content: space-between; align-items: center">
					<layout-column id="ColumnLayout26">
						<davinci-value-display id="ValueDisplay9"
							value="Device discovery timeout:"
							title="Device discovery timeout">
						</davinci-value-display>
					</layout-column>
					<layout-column id="ColumnLayout27">
						<davinci-number-input id="NumberInput9" step="1">
							<crown-on property="value"
								crown-event="CSK_LiveConnect/OnNewDeviceDiscoveryTimeout">
							</crown-on>
							<crown-set event="input"
								crown-function="CSK_LiveConnect/setDeviceDiscoveryTimeout"
								protocol="crownMSGPACK" crown-path="timeout">
							</crown-set>
                            <local-binding property="disabled" name="currentuser" update-on-resume
				                converter="getDisabled">
			                </local-binding>
						</davinci-number-input>
					</layout-column>
				</layout-row>
				<layout-row id="RowLayout14"
					style="align-items: center; justify-content: space-between">
					<layout-column id="ColumnLayout24">
						<davinci-value-display id="ValueDisplay8"
							value="Part number (gateway device):"
							title="Part number of the gateway device">
						</davinci-value-display>
					</layout-column>
					<layout-column id="ColumnLayout25">
						<davinci-text-field id="TextField1" type="text">
							<crown-on property="value"
								crown-event="CSK_LiveConnect/OnNewGatewayPartNumber">
							</crown-on>
							<crown-set event="input"
								crown-function="CSK_LiveConnect/setGatewayPartNumber"
								protocol="crownMSGPACK" crown-path="partNumber">
							</crown-set>
                            <local-binding property="disabled" name="currentuser" update-on-resume
				                converter="getDisabled">
			                </local-binding>
						</davinci-text-field>
					</layout-column>
				</layout-row>
				<layout-row id="RowLayout13"
					style="justify-content: space-between; align-items: center">
					<layout-column id="ColumnLayout22">
						<davinci-value-display id="ValueDisplay7"
							value="Serial number (gateway device):"
							title="Serial number of the gateway device">
						</davinci-value-display>
					</layout-column>
					<layout-column id="ColumnLayout23">
						<davinci-text-field id="TextField2" type="text">
							<crown-on property="value"
								crown-event="CSK_LiveConnect/OnNewGatewaySerialNumber">
							</crown-on>
							<crown-set event="input"
								crown-function="CSK_LiveConnect/setGatewaySerialNumber"
								protocol="crownMSGPACK" crown-path="serialNumber">
							</crown-set>
                            <local-binding property="disabled" name="currentuser" update-on-resume
				                converter="getDisabled">
			                </local-binding>
						</davinci-text-field>
					</layout-column>
				</layout-row>
			</layout-column>
			<layout-column id="ColumnLayout19" style="flex-grow: 3">
			</layout-column>
		</layout-row>
		<layout-row id="RowLayout10">
			<layout-column id="ColumnLayout10" style="align-items: baseline">
				<stacked-view id="SV_Login">
					<stacked-pane id="SP_LoginOK" value="true">
						<layout-column id="Column_PersistentData"
							class="myCustomFrame_Parameters" style="align-items: stretch">
							<layout-row id="RowLayout4"
								style="justify-content: space-between; align-items: center">
							</layout-row>
							<layout-row id="RowLayout12"
								style="justify-content: space-between; align-items: center">
								<davinci-value-display id="VD_LoadConfig"
									value="Load config on app start:"
									title="Load configured parameters from CSK_PersistentData on app start.">
								</davinci-value-display>
								<davinci-checkbox id="CB_LoadConfig"
									title="Load configured parameters from CSK_PersistentData on app start.">
									<span></span>
									<crown-edpws-binding property="checked"
										name="CSK_LiveConnect/OnNewStatusLoadParameterOnReboot"
										update-on-resume>
									</crown-edpws-binding>
									<crown-edpws-binding property="disabled"
										name="CSK_LiveConnect/OnPersistentDataModuleAvailable"
										update-on-resume converter="function(value) {return !value;}">
									</crown-edpws-binding>
									<crown-binding event="change" name="CSK_LiveConnect/setLoadOnReboot"
										path="param/args/status" auto-commit>
									</crown-binding>
								</davinci-checkbox>
							</layout-row>
							<layout-row id="RowLayout3">
								<layout-column id="ColumnLayout13" style="align-items: stretch">
								</layout-column>
								<layout-column id="ColumnLayout14" style="align-items: stretch">
									<davinci-button id="B_SaveConfig" type="primary"
										icon-position="append"
										title="Save current configured parameters and restart the LiveConnect Client">
										<span>Save & Restart Client</span>
										<crown-binding event="submit" name="CSK_LiveConnect/sendParameters"
											auto-commit>
										</crown-binding>
										<crown-edpws-binding property="disabled"
											name="CSK_LiveConnect/OnPersistentDataModuleAvailable"
											update-on-resume converter="function(value) {return !value;}">
										</crown-edpws-binding>
									</davinci-button>
								</layout-column>
							</layout-row>
						</layout-column>
					</stacked-pane>
					<stacked-pane id="SP_LoginNotOK" value="false">
						<davinci-callout id="Callout1" type="info">
							<span>
								Please log in via CSK_UserManagement module (at least via user level "Operator")
							</span>
						</davinci-callout>
					</stacked-pane>
					<crown-edpws-binding property="value"
						name="CSK_LiveConnect/OnUserLevelOperatorActive" update-on-resume
						converter="function(value) {return value.toString();}">
					</crown-edpws-binding>
				</stacked-view>
				<stacked-view id="SV_PageCalled">
					<crown-binding property="value" name="CSK_LiveConnect/pageCalled"
						path="result/data/empty" auto-update="0" update-on-resume>
					</crown-binding>
				</stacked-view>
			</layout-column>
			<layout-column id="ColumnLayout12" style="flex-grow: 3">
			</layout-column>
		</layout-row>
	</layout-column>
</layout-row>